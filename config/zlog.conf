# ======================
# Global settings
# ======================
[global]
strict init = true
# Smaller buffers for fast flush; tune if needed
buffer min = 1024
buffer max = 32768
file perms = 644

# Disable rotation locks (we're not writing to files)
rotate lock file = /dev/null

# Async mode â€“ zlog queues log records per-thread
# and flushes periodically in background.
# 0 disables (sync), >0 enables async mode with queue length.
async = on
async worker num = 4
async queue len = 8192
# When the async queue is full, discard the message ('drop')
# to prevent logging from impacting application latency.
async queue full op = drop 

# ======================
# Formats
# ======================
[formats]
# Compact, high-throughput format
# Example output:
# 2025-10-09 23:12:45.123 [T12345][consumer_cache][INFO] cache updated
fast = "%d %T.%m [%V][%c][%p] %m%n"

# ======================
# Rules
# ======================
[rules]
server.DEBUG          "stdout"

